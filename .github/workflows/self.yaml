name: Self Test
on:
  # Triggering on issue changes could be a little too expensive for large repos
  # issues:
  #   types:
  #     - opened
  #     - edited
  #     - closed
  # A good compromise for most would be every weekday
  schedule:
    - cron: 0 12 * * 1-5
  workflow_dispatch: {}
jobs:
  update_tracker:
    runs-on: ubuntu-latest
    name: Update Tracker Issue
    steps:
      - uses: nikitawootten/tracker-issue-bot@v0.1.2
        with:
          token: ${{ secrets.GITHUB_TOKEN }}
          targetName: tracker-issue-bot
          targetOwner: nikitawootten
          title: Tracker issue for this repository
          header: |
            # Tracker Issue for nikitawootten/tracker-issue-bot

            This is an example of a tracker issue [generated by this bot](https://github.com/nikitawootten/tracker-issue-bot/blob/main/.github/workflows/self.yaml).
          footer: |
            All of the above issues had the required `tracked` label as configured by the workflow.
          labelsRequire: tracked
